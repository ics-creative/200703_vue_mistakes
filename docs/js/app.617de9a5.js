(function(e){function t(t){for(var n,a,i=t[0],u=t[1],c=t[2],d=0,p=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);l&&l(t);while(p.length)p.shift()();return s.push.apply(s,c||[]),o()}function o(){for(var e,t=0;t<s.length;t++){for(var o=s[t],n=!0,i=1;i<o.length;i++){var u=o[i];0!==r[u]&&(n=!1)}n&&(s.splice(t--,1),e=a(a.s=o[0]))}return e}var n={},r={app:0},s=[];function a(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=n,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,function(t){return e[t]}.bind(null,n));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var l=u;s.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"00c2":function(e,t,o){"use strict";var n=o("1150"),r=o.n(n);r.a},1150:function(e,t,o){},"15a6":function(e,t,o){"use strict";var n=o("b6ba"),r=o.n(n);r.a},"34c2":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"ExampleMessage"},[e._t("default"),o("div",{staticClass:"ExampleMessage_Links"},e._l(e.sources,(function(e){return o("SourceLink",{key:e,attrs:{sourcePath:e}})})),1)],2)},r=[],s={props:{sources:{type:Array,default:function(){return[]}}}},a=s,i=(o("15a6"),o("2877")),u=Object(i["a"])(a,n,r,!1,null,"fff19cc8",null);t["default"]=u.exports},3562:function(e,t,o){},"474a":function(e,t,o){},4866:function(e,t,o){},"50e5":function(e,t,o){"use strict";var n=o("3562"),r=o.n(n);r.a},"56d7":function(e,t,o){"use strict";o.r(t);o("4160"),o("d3b7"),o("ac1f"),o("5319"),o("1276"),o("159b"),o("ddb0"),o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("div",{class:e.$route.name,attrs:{id:"nav"}},[e._m(0),o("router-link",{attrs:{to:"/"}},[e._v("TOP")]),o("router-link",{attrs:{to:"/heavy"}},[e._v("1. なぜか重いコンポーネント")]),o("router-link",{attrs:{to:"/props"}},[e._v("2. なぜか反映されないprops")]),o("router-link",{attrs:{to:"/computed"}},[e._v("3. 微妙に再計算されないcomputed")])],1),o("router-view")],1)},s=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("h1",{staticClass:"AppTitle"},[o("div",{staticClass:"sub"},[e._v("エラーは出ないけどなにか変？？")]),e._v(" Vue.jsでやりがちな「サイレント・ミス」 ")])}],a=(o("5c0b"),o("2877")),i={},u=Object(a["a"])(i,r,s,!1,null,null,null),c=u.exports,l=o("8c4f"),d=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},p=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"home"},[e._v(" このページはics.mediaの記事『 "),o("a",{attrs:{href:"https://ics.media/entry/200716/"}},[e._v(" エラーは出ないけど…何か変？？Vue.jsでやりがちな「サイレント・ミス」（ロジック編） ")]),e._v(" 』のデモコードです。記事と合わせてご覧ください。 ")])}],m={name:"Home",components:{}},v=m,f=Object(a["a"])(v,d,p,!1,null,null,null),_=f.exports,b=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"OddTransitionPage"},[o("section",[o("h2",[e._v("トランジションがちょっと変なTodoList1")]),o("label",{staticClass:"NewTodo"},[e._v(" 新しい項目： "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.newItem,expression:"newItem"}],staticClass:"NewTodo_Input",domProps:{value:e.newItem},on:{input:function(t){t.target.composing||(e.newItem=t.target.value)}}}),o("button",{on:{click:e.addItem}},[e._v("追加")])]),o("ol",{staticClass:"List"},[o("transition-group",{attrs:{name:"item-animation"}},e._l(e.todoItems,(function(t,n){return o("li",{key:"todo-"+n,staticClass:"List_Item"},[o("TodoItem",{attrs:{text:t},on:{remove:function(t){return e.removeItem(n)}}})],1)})),0)],1)]),o("ExampleMessage",{attrs:{sources:["views/OddTransition.vue"]}},[o("p",[e._v(" 簡単なTODOリストを作成し、 "),o("a",{attrs:{href:"https://jp.vuejs.org/v2/guide/transitions.html"}},[e._v(" Vue公式ガイドのTransitionのページ ")]),e._v(" を参考にトランジションを追加してみました。 TODOリストそのものはうまく動作していたはずなのに、追加したトランジションがちょっと変です。とりあえず動いてはいるので、このままにしておいても良いでしょうか？ ")]),o("p",[e._v(" コンソールにTodoItemが作成/削除された際のログも出力しているので合わせて確認してみてください。 ")])])],1)},h=[],g=(o("a434"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"TodoItem"},[e._v(" "+e._s(e.text)+" "),o("button",{on:{click:function(t){return e.$emit("remove")}}},[e._v("削除")])])}),C=[],x=(o("99af"),{props:{text:{type:String,default:"new item"}},mounted:function(){console.log('TodoItem.mounted: "'.concat(this.text,'"が作成されました'))},beforeDestroy:function(){console.log('TodoItem.beforeDestroy: "'.concat(this.text,'"が削除されました'))},watch:{text:function(e,t){console.log('TodoItem.watch.text: "'.concat(t,'"が"').concat(e,'"に変更されました'))}}}),w=x,y=Object(a["a"])(w,g,C,!1,null,null,null),k=y.exports,M={components:{TodoItem:k},data:function(){return{newItem:"",todoItems:["かいもの","ねことあそぶ","Vue.jsのべんきょう"]}},methods:{addItem:function(){this.todoItems.push(this.newItem),this.newItem=""},removeItem:function(e){this.todoItems.splice(e,1)}}},O=M,E=(o("f3ed"),Object(a["a"])(O,b,h,!1,null,"bd7b9528",null)),P=E.exports,I=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"UnexpectedStylePage"},[o("ErrorMessage",{attrs:{message:"これはErrorMessageコンポーネントによるメッセージです"}}),e._m(0),o("ExampleMessage",{attrs:{sources:["views/UnexpectedStyle.vue","components/ErrorMessage.vue"]}},[e._v(" この画面では自作の「ErrorMessage」コンポーネントにエラーメッセージを表示しています。 ErrorMessageコンポーネントはエラーを赤文字で表示するはずが、なぜかこの画面では青くなってしまいました。 どこに間違いがあるのでしょうか？ ")])],1)},T=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"body"},[e._v(" この部分は本文です。本文の一部分は"),o("span",{staticClass:"message"},[e._v("青色")]),e._v("で表示しています ")])}],j=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"message"},[e._v(" "+e._s(e.message)+" ")])},$=[],V={props:{message:{type:String}}},S=V,z=(o("9bb0"),Object(a["a"])(S,j,$,!1,null,"e41978a4",null)),N=z.exports,A={components:{ErrorMessage:N}},D=A,U=(o("5b7a"),Object(a["a"])(D,I,T,!1,null,"0cbfda33",null)),W=U.exports,Z=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"NotChangedPropsPage"},[o("section",[o("h2",[e._v("なぜか変わらないprops-1")]),o("label",[o("span",[e._v("Color Code: #")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.colorCode,expression:"colorCode"}],domProps:{value:e.colorCode},on:{input:function(t){t.target.composing||(e.colorCode=t.target.value)}}})]),o("ColorView",{attrs:{code:e.colorCode}})],1),o("section",[o("h2",[e._v("なぜか変わらないprops-2")]),o("label",[o("span",[e._v("Zip Code: 〒")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.zipCode,expression:"zipCode"}],domProps:{value:e.zipCode},on:{input:function(t){t.target.composing||(e.zipCode=t.target.value)}}})]),o("ZipAddress",{attrs:{zipcode:e.zipCode}})],1),o("ExampleMessage",{attrs:{sources:["views/NotChangedProps.vue","components/ColorView.vue","components/ZipAddress.vue"]}},[e._v(" この画面では自作の「ColorView」コンポーネントと「ZipAddress」コンポーネントで入力されたコードから色や住所を表示しています。 初期表示はうまくいきますが、入力欄のコードを変更しても色や住所が変わりません。 どこに間違いがあるのでしょうか？ ")])],1)},F=[],H=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"ColorView",style:{backgroundColor:e.colorCode}},[o("div",{staticClass:"ColorView_Code"},[e._v(e._s(e.colorCode))])])},L=[],q={props:{code:{type:String}},data:function(){return{colorCode:("#"+this.code).toUpperCase()}}},J=q,B=(o("707b"),Object(a["a"])(J,H,L,!1,null,"67e13a1b",null)),G=B.exports,K=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"ZipAddress"},[o("span",{staticClass:"ZipAddress_Zip"},[e._v("〒"+e._s(e.zipcode))]),o("span",{staticClass:"ZipAddress_Address"},[e._v(e._s(this.address||"取得中..."))])])},Q=[],R=o("f2e8"),X=o.n(R),Y="https://zipcloud.ibsnet.co.jp/api/search",ee={props:{zipcode:{type:String}},data:function(){return{address:""}},mounted:function(){var e=this;if(this.zipcode){var t="".concat(Y,"?zipcode=").concat(this.zipcode);X()(t,{},(function(t,o){if(!t){var n=o.results[0];e.address=n.address1+n.address2+n.address3}}))}}},te=ee,oe=(o("50e5"),Object(a["a"])(te,K,Q,!1,null,"20b22eba",null)),ne=oe.exports,re={components:{ColorView:G,ZipAddress:ne},data:function(){return{colorCode:"ffdd98",zipCode:"1050011"}}},se=re,ae=Object(a["a"])(se,Z,F,!1,null,"99b54e0a",null),ie=ae.exports,ue=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"TooHeavyCompPage"},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.someHeavyFunc(),expression:"someHeavyFunc()"}],staticClass:"message"},[e._v(" サンプルのメッセージです。このメッセージの表示ON/OFFはv-showで設定しています。 ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.someText,expression:"someText"}],domProps:{value:e.someText},on:{input:function(t){t.target.composing||(e.someText=t.target.value)}}}),o("ExampleMessage",{attrs:{sources:["views/TooHeavyComp.vue"]}},[e._v(" ページにメッセージ表示欄を作って:v-showで表示をON/OFFする機能を追加したところ、 なぜかinputのテキスト入力がとても重くなってしまいました。 追加した処理と入力欄には何も関係はないはずです。なにが起きているのでしょう？ ")])],1)},ce=[],le={data:function(){return{hasMessage:!0,someText:"なぜか入力がとても重いinput"}},methods:{someHeavyFunc:function(){var e=performance.now(),t=0;while(t<300)t=performance.now()-e;return console.log("重い処理を実行しました"),this.hasMessage}}},de=le,pe=(o("9d3e"),Object(a["a"])(de,ue,ce,!1,null,"e131d5ca",null)),me=pe.exports,ve=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"NotChangedComputedPage"},[o("section",[o("h2",[e._v("なぜか変わらないcomputed")]),o("label",[e._v("ブロックの数： "),o("input",{directives:[{name:"model",rawName:"v-model.number",value:e.blockCount,expression:"blockCount",modifiers:{number:!0}}],attrs:{type:"range",min:"1",max:"6"},domProps:{value:e.blockCount},on:{__r:function(t){e.blockCount=e._n(t.target.value)},blur:function(t){return e.$forceUpdate()}}})]),o("div",{ref:"row"},e._l(e.blockCount,(function(t){return o("div",{key:t,staticClass:"block",style:{width:e.blockWidth}},[e._v(" width = "+e._s(e.blockWidth)+" ")])})),0)]),o("section",[o("h2",[e._v("なぜか変わるcomputed")]),o("label",[e._v("ブロックの数： "),o("input",{directives:[{name:"model",rawName:"v-model.number",value:e.blockCount,expression:"blockCount",modifiers:{number:!0}}],attrs:{type:"range",min:"1",max:"6"},domProps:{value:e.blockCount},on:{__r:function(t){e.blockCount=e._n(t.target.value)},blur:function(t){return e.$forceUpdate()}}})]),o("div",{ref:"row"},e._l(e.blockCount,(function(t){return o("div",{key:t,staticClass:"block",style:{width:e.blockWidth2}},[e._v(" width = "+e._s(e.blockWidth2)+" ")])})),0)]),o("ExampleMessage",{attrs:{sources:["views/NotChangedComputed.vue"]}},[e._v(" この例ではスライダーを動かすことでブロックの数を変更し、数に合わせて1ブロックの幅も調整しています。 なぜか上の例は幅が正しく計算されていません。 下の例は上と同じcomputedに「console.log()」を足しただけですが、なぜか動いてしまいました。何が起きているのでしょうか？ ")])],1)},fe=[],_e={data:function(){return{sliderValue:1,blockCount:1}},computed:{blockWidth:function(){var e=this.$refs["row"];if(!e)return"0px";var t=e.offsetWidth/this.blockCount;return Math.floor(t)+"px"},blockWidth2:function(){console.log(this.blockCount);var e=this.$refs["row"];if(!e)return"0px";var t=e.offsetWidth/this.blockCount;return Math.floor(t)+"px"}},mounted:function(){this.blockCount=3}},be=_e,he=(o("00c2"),Object(a["a"])(be,ve,fe,!1,null,"f2db545a",null)),ge=he.exports,Ce=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"VueErrorPage"},[[o("section",[o("h2",[e._v("不適切なコードをVueが実行時エラーで教えてくれる例")]),o("div",{staticClass:"CountViewComponent"},[e._v(" カウント="+e._s(e.count)+" "),o("button",{on:{click:e.reset}},[e._v("リセット")])])]),o("h2",[e._v("うまく動かないcomputedの例")]),o("section",[o("h3",[e._v("①画面サイズで分岐するcomputed")]),o("p",[e._v(" PCサイズの画面で表示している場合、pcSizeを変更するとComputed Sizeも変わります。 その状態でウインドウを小さくしていくとComputed SizeがmobileSizeの値に切り替わりますが、 mobileSizeの値は変更してもComputed Sizeに反映されません。 ")]),o("label",[e._v("pcMsg: "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.pcMsg,expression:"pcMsg"}],attrs:{type:"text"},domProps:{value:e.pcMsg},on:{input:function(t){t.target.composing||(e.pcMsg=t.target.value)}}})]),o("label",[e._v("mobileMsg: "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.mobileMsg,expression:"mobileMsg"}],attrs:{type:"text"},domProps:{value:e.mobileMsg},on:{input:function(t){t.target.composing||(e.mobileMsg=t.target.value)}}})]),o("p",[e._v("Computed sizeMessage: "+e._s(e.sizeMessage))])]),o("section",[o("h3",[e._v("②Vue管理外の変数で分岐するcomputed")]),o("p",[e._v(" 初回実行時にsomeAPI.dataが未取得だと、サーバへのデータ取得要求は実行されますが 結果がsomeAPI.dataにセットされてもcomputedは'取得中...'のまま変わりません。 dataIndexの値を変更しても再計算は実行されません。 ")]),o("label",[e._v("data index: "),o("input",{directives:[{name:"model",rawName:"v-model.number",value:e.dataIndex,expression:"dataIndex",modifiers:{number:!0}}],domProps:{value:e.dataIndex},on:{input:function(t){t.target.composing||(e.dataIndex=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" serverData: "+e._s(e.serverData)+" ")]),o("section",[o("h3",[e._v("③乱数で分岐するcomputed")]),o("p",[e._v(" スライダーをランダムに動かしているとある時点から Computed valueが変化しなくなります ")]),o("label",[e._v("currentValue: "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],attrs:{type:"range",min:"1",max:"200"},domProps:{value:e.currentValue},on:{__r:function(t){e.currentValue=t.target.value}}})]),e._v(" Computed value: "+e._s(e.randomValue)+" ")])]],2)},xe=[],we=(o("a9e3"),{data:"",requestServerData:function(){setTimeout((function(){we.data=["data1","data2","data3"]}),1e3)}}),ye={name:"VueError",components:{},props:{count:{type:Number,default:3}},data:function(){return{pcMsg:"Message for PC",mobileMsg:"Message for Mobile",breakPoint:600,dataIndex:0,currentValue:123}},computed:{sizeMessage:function(){return window.innerWidth<768?this.mobileMsg:this.pcMsg},serverData:function(){return we.data?we.data[this.dataIndex]||"データが見つかりません":(we.requestServerData(),"取得中...")},randomValue:function(){return Math.random()<.01?0:this.currentValue}},methods:{reset:function(){this.count=0}}},ke=ye,Me=Object(a["a"])(ke,Ce,xe,!1,null,null,null),Oe=Me.exports;n["a"].use(l["a"]);var Ee=[{path:"/",name:"Home",component:_},{path:"/transition",name:"OddTransition",component:P},{path:"/style",name:"Style",component:W},{path:"/props",name:"Props",component:ie},{path:"/heavy",name:"HeavyComp",component:me},{path:"/computed",name:"Computed",component:ge},{path:"/test",name:"Test",component:Oe}],Pe=new l["a"]({mode:"hash",routes:Ee}),Ie=Pe;n["a"].config.productionTip=!1;var Te=o("b092");Te.keys().forEach((function(e){var t=Te(e),o=e.split("/").pop().replace(/\.\w+$/,"");n["a"].component(o,t.default||t)})),new n["a"]({router:Ie,render:function(e){return e(c)}}).$mount("#app")},"5b7a":function(e,t,o){"use strict";var n=o("d679"),r=o.n(n);r.a},"5c0b":function(e,t,o){"use strict";var n=o("9c0c"),r=o.n(n);r.a},"609a":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("a",{staticClass:"SourceLink",attrs:{href:e.fullUrl,target:"_blank"}},[e._v("ソースを確認する："+e._s(e.sourcePath))])},r=[],s={props:{sourcePath:{type:String}},computed:{fullUrl:function(){return"https://github.com/ics-creative/200716_vue_mistakes/tree/master/src/".concat(this.sourcePath)}}},a=s,i=(o("b98c"),o("2877")),u=Object(i["a"])(a,n,r,!1,null,"840940b6",null);t["default"]=u.exports},"707b":function(e,t,o){"use strict";var n=o("aea3"),r=o.n(n);r.a},"9bb0":function(e,t,o){"use strict";var n=o("af78"),r=o.n(n);r.a},"9c0c":function(e,t,o){},"9d3e":function(e,t,o){"use strict";var n=o("bec4"),r=o.n(n);r.a},aea3:function(e,t,o){},af78:function(e,t,o){},b092:function(e,t,o){var n={"./ExampleMessage.vue":"34c2","./SourceLink.vue":"609a"};function r(e){var t=s(e);return o(t)}function s(e){if(!o.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id="b092"},b6ba:function(e,t,o){},b98c:function(e,t,o){"use strict";var n=o("474a"),r=o.n(n);r.a},bec4:function(e,t,o){},d679:function(e,t,o){},f3ed:function(e,t,o){"use strict";var n=o("4866"),r=o.n(n);r.a}});
//# sourceMappingURL=app.617de9a5.js.map